--- /python/branches/release25-maint/Objects/stringobject.c	2008/04/09 23:16:37	62261
+++ python/branches/release25-maint/Objects/stringobject.c	2008/04/09 23:41:13	62262
@@ -53,7 +53,11 @@
 PyString_FromStringAndSize(const char *str, Py_ssize_t size)
 {
 	register PyStringObject *op;
-	assert(size >= 0);
+	if (size < 0) {
+		PyErr_SetString(PyExc_SystemError,
+		    "Negative size passed to PyString_FromStringAndSize");
+		return NULL;
+	}
 	if (size == 0 && (op = nullstring) != NULL) {
 #ifdef COUNT_ALLOCS
 		null_strings++;
